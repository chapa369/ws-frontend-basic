<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>タスク管理ツール</title>
    <!-- bootstrapをインポートしてくる -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <main>
      <section class="jumbotron text-center">
        <!-- 画像はる -->
        <img src="tasks.png" height="200px" alt="" />
        <!-- 見出し記述 -->
        <p><strong>4/22開催WS「速習！フロントエンド」の成果物</strong></p>
        <!-- どこかにリンクを貼ってみる -->
        <p>詳細は<a href="https://google.com">こちら</a></p>
      </section>
      <section class="container">
        <div class="row">
          <div class="col-md-6">
            <!-- 「新規タスク作成」の見出しつける -->
            <h2>新規タスク作成</h2>
            <!-- タスク追加フォーム作成 -->
            <form id="add-task-form">
              <div class="form-row my-3">
                <input
                  class="col-lg-9"
                  id="task-name"
                  type="text"
                  placeholder="タスクの名前を記入してください"
                />
                <input
                  class="col-lg-3 btn btn-primary"
                  type="submit"
                  value="タスクを追加"
                />
              </div>
            </form>
          </div>
          <div class="col-md-6">
            <!-- 「タスク一覧」の見出しつける -->
            <h2>タスク一覧</h2>
            <!-- タスク一覧のリスト作る -->
            <ul id="task-lists"></ul>
          </div>
        </div>
      </section>
    </main>
  </body>

  <script>
    "use strict";
    // DOMを取得
    const taskLists = document.getElementById("task-lists");
    const taskName = document.getElementById("task-name");
    const addTaskForm = document.getElementById("add-task-form");

    const removeTask = (removeButtonProp) => {
      const targetTask = removeButtonProp.closest("li"); // removeButtonPropに最も近いli要素を取得
      taskLists.removeChild(targetTask); //  取得したli要素を削除
    };
    const addTask = (task) => {
      const listItem = document.createElement("li");
      listItem.classList.add("my-1"); //  上下にmarginを設定
      listItem.innerText = task; //  formから入力したタスク名をHTML要素として代入

      const removeButton = document.createElement("button"); //  削除ボタンを用意
      removeButton.classList.add("btn", "btn-sm", "btn-danger"); //  削除ボタンをbootstrapでスタイリング
      removeButton.innerText = "削除";
      removeButton.addEventListener("click", () => removeTask(removeButton)); //  removeButtonをクリックしたときにremoveTask関数を呼ぶ

      listItem.append(removeButton);
      taskLists.appendChild(listItem);
    };

    addTaskForm.addEventListener("submit", (event) => {
      event.preventDefault(); //  submitイベントはデフォルトではブラウザの更新を伴うため、デフォルト挙動を無効化
      const task = taskName.value;
      if (task === "") {
        return;
      }
      addTask(task);
      taskName.value = "";
    });
  </script>
</html>
